{"version":3,"sources":["webpack:///./src/views/manage/CommodityAdd.vue","webpack:///./src/views/manage/CommodityAdd.vue?5964","webpack:///./src/views/manage/CommodityAdd.vue?d419"],"names":["CommodityAdd","data","fileList","inputCommodity","inputDescribe","primaryValue","secondValue","primaryClassification","secondClassification","loading","methods","handleRemove","file","_this","this","params","URLSearchParams","append","name","axios","post","then","res","result","status","$notify","error","title","message","duration","catch","err","handlePreview","console","log","handleSuccess","response","primarySelectChange","_this2","list","handleCommit","_this3","fileNams","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","iterator","value","push","return","$message","type","submitUpload","$refs","upload","submit","created","_this4","get","manage_CommodityAdd","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","ref","staticClass","attrs","action","on-preview","on-remove","file-list","auto-upload","on-success","multiple","accept","list-type","slot","size","_v","staticStyle","margin-left","on","click","span","placeholder","model","callback","$$v","change","_l","item","key","id","label","autosize","width","margin-top","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.8a637087473be5c7b9b6.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      fileList: [],\r\n      inputCommodity: \"\",\r\n      inputDescribe: \"\",\r\n      primaryValue: \"\",\r\n      secondValue: \"\",\r\n      primaryClassification: [],\r\n      secondClassification: [],\r\n      loading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    handleRemove(file, fileList) {\r\n      let params = new URLSearchParams();\r\n      params.append(\"name\", file.name);\r\n      this.axios\r\n        .post(\"/file/Delete\", params)\r\n        .then((res) => {\r\n          let result = res.data;\r\n          if (!result.status) {\r\n            this.$notify.error({\r\n              title: \"错误\",\r\n              message: result.message,\r\n              duration: 0,\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$notify.error({\r\n            title: \"错误\",\r\n            message: err,\r\n            duration: 0,\r\n          });\r\n        });\r\n    },\r\n\r\n    handlePreview(file) {\r\n      console.log(file);\r\n    },\r\n\r\n    handleSuccess(response, file, fileList) {\r\n      if (response.status) {\r\n        this.fileList = fileList;\r\n        console.log(this.fileList);\r\n      } else {\r\n        this.$notify.error({\r\n          title: \"错误\",\r\n          message: response.message,\r\n          duration: 0,\r\n        });\r\n      }\r\n    },\r\n\r\n    primarySelectChange() {\r\n      let params = new URLSearchParams();\r\n      params.append(\"primaryClassification\", this.primaryValue);\r\n      this.axios\r\n        .post(\"/getSecondClassificationByPrimaryClassification\", params)\r\n        .then((res) => {\r\n          let result = res.data;\r\n          if (result.status) {\r\n            this.secondClassification = result.list;\r\n          } else {\r\n            this.$notify.error({\r\n              title: \"错误\",\r\n              message: result.message,\r\n              duration: 0,\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$notify.error({\r\n            title: \"错误\",\r\n            message: err,\r\n            duration: 0,\r\n          });\r\n        });\r\n    },\r\n\r\n    handleCommit() {\r\n      this.loading = true;\r\n\r\n      let fileNams = [];\r\n      for (const iterator of this.fileList) {\r\n        fileNams.push(iterator.name);\r\n      }\r\n      let params = new URLSearchParams();\r\n      params.append(\"fileNams\", fileNams);\r\n      params.append(\"name\", this.inputCommodity);\r\n      params.append(\"primary\", this.primaryValue);\r\n      params.append(\"second\", this.secondValue);\r\n      params.append(\"describe\", this.inputDescribe);\r\n\r\n      this.axios\r\n        .post(\"/commodity/Add\", params)\r\n        .then((res) => {\r\n          let result = res.data;\r\n          if (result.status) {\r\n            this.inputCommodity = \"\";\r\n            this.inputDescribe = \"\";\r\n            this.fileList = [];\r\n            this.$message({\r\n              message: result.message,\r\n              type: \"success\",\r\n            });\r\n          } else {\r\n            this.$notify.error({\r\n              title: \"错误\",\r\n              message: result.message,\r\n              duration: 0,\r\n            });\r\n          }\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.$notify.error({\r\n            title: \"错误\",\r\n            message: err,\r\n            duration: 0,\r\n          });\r\n          this.loading = false;\r\n        });\r\n    },\r\n\r\n    submitUpload() {\r\n      this.$refs.upload.submit();\r\n    },\r\n  },\r\n  created() {\r\n    this.axios\r\n      .get(\"/primaryClassification/getAll\")\r\n      .then((res) => {\r\n        this.primaryClassification = res.data;\r\n      })\r\n      .catch((err) => {\r\n        this.$notify.error({\r\n          title: \"错误\",\r\n          message: err,\r\n          duration: 0,\r\n        });\r\n      });\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/manage/CommodityAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"action\":\"/online_store/upload\",\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.fileList,\"auto-upload\":false,\"on-success\":_vm.handleSuccess,\"multiple\":\"\",\"accept\":\"image/*\",\"list-type\":\"picture\"}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"上传到服务器\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":3}},[_vm._v(\"商品名称：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":21}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.inputCommodity),callback:function ($$v) {_vm.inputCommodity=$$v},expression:\"inputCommodity\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":3}},[_vm._v(\"一级分类：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.primarySelectChange},model:{value:(_vm.primaryValue),callback:function ($$v) {_vm.primaryValue=$$v},expression:\"primaryValue\"}},_vm._l((_vm.primaryClassification),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.name}})}),1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_vm._v(\"二级分类：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.secondValue),callback:function ($$v) {_vm.secondValue=$$v},expression:\"secondValue\"}},_vm._l((_vm.secondClassification),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.name}})}),1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":3}},[_vm._v(\"商品描述：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":21}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.inputDescribe),callback:function ($$v) {_vm.inputDescribe=$$v},expression:\"inputDescribe\"}})],1)],1),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCommit}},[_vm._v(\"提交\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5835b467\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/manage/CommodityAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5835b467\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CommodityAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommodityAdd.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommodityAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5835b467\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CommodityAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/manage/CommodityAdd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}